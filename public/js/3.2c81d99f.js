(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0b86":function(t,e,s){"use strict";var a=s("cb45"),n=s.n(a);n.a},"34ab":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[t.users?s("div",{staticClass:"row"},[s("h6",{staticClass:"col-12 text-center"},[t._v("Admin Panel")]),s("div",{staticClass:"col-12 col-md-4"},[s("q-card",{staticClass:"bg-positive text-white"},[s("q-card-section",{staticClass:"row"},[s("span",{staticClass:"col-12 text-center"},[t._v("Registered Users")])]),s("q-card-section",{staticClass:"row"},[s("span",{staticClass:"col-12 text-center"},[s("h5",[t._v(t._s(t.users.length))])])])],1)],1),s("div",{staticClass:"col-12 col-md-4"},[s("q-card",{staticClass:"bg-white text-black"},[s("q-card-section",{staticClass:"row"},[s("span",{staticClass:"col-12 text-center"},[t._v("First Semester Balance")])]),s("q-card-section",{staticClass:"row"},[s("span",{staticClass:"col-12 text-center"},[s("h5",[t._v("₦"+t._s(t.firstSemesterAmount)+".00")])])])],1)],1),s("div",{staticClass:"col-12 col-md-4"},[s("q-card",{staticClass:"bg-positive text-white"},[s("q-card-section",{staticClass:"row"},[s("span",{staticClass:"col-12 text-center"},[t._v("Second Semester Balance")])]),s("q-card-section",{staticClass:"row"},[s("span",{staticClass:"col-12 text-center"},[s("h5",[t._v("₦"+t._s(t.secondSemesterAmount)+".00")])])])],1)],1)]):t._e(),s("div",[s("h6",{staticClass:"text-center"},[t._v("Semester prices")]),t.getUsers?s("q-markup-table",{staticClass:"table",staticStyle:{width:"400px"},attrs:{flat:"",bordered:""}},[s("thead",{staticClass:"bg-primary"},[s("tr",[s("th",{staticClass:"text-left text-white"},[t._v("Semester")]),s("th",{staticClass:"text-left text-white"},[t._v("Amount")])])]),t.dues?s("tbody",{staticClass:"bg-grey-3"},t._l(t.dues,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"text-left"},[t._v(t._s(e.semester)+"\n                          ")]),s("td",{staticClass:"text-left"},[t._v("\n                                 ₦"+t._s(e.amount)+"\n                                 "),s("q-btn",{attrs:{color:"secondary",icon:"edit",size:"sm",flat:""},on:{click:function(s){t.dialog=!0,t.amount=e.amount,t.id=e._id}}})],1)])})),0):t._e()]):t._e()],1),s("div",{staticClass:"row"},[s("h6",{staticClass:"text-center col-12"},[t._v("Users Table")]),s("q-select",{staticClass:"col-5 q-pa-sm",attrs:{label:"Year of study","transition-show":"flip-up","transition-hide":"flip-down",square:"",outlined:"",dense:"",options:t.levelOptions},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}}),s("q-select",{staticClass:"col-4 q-pa-sm",attrs:{label:"payment status","transition-show":"flip-up","transition-hide":"flip-down",square:"",dense:"",outlined:"",options:t.paymentStatusOptions},model:{value:t.paymentStatus,callback:function(e){t.paymentStatus=e},expression:"paymentStatus"}}),s("q-select",{staticClass:"col-3 q-pa-sm",attrs:{label:"Sort by Semester","transition-show":"flip-up","transition-hide":"flip-down",square:"",dense:"",outlined:"",options:t.semesterOptions},model:{value:t.semester,callback:function(e){t.semester=e},expression:"semester"}}),s("div",{staticClass:"text-center row",attrs:{align:"center"}},[s("q-input",{staticClass:"q-pa-sm  col-12",attrs:{label:"Search email",dense:"",outlined:"",rounded:"",standout:"",hint:"search users by email",clearable:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.searchUser,callback:function(e){t.searchUser=e},expression:"searchUser"}})],1),s("div",{staticClass:"col-12"},[t.getUsers?s("q-markup-table",{staticClass:"markup-table my-sticky-header-table",attrs:{flat:"",bordered:""}},[s("thead",{staticClass:"bg-teal"},[s("tr",[s("th",{staticClass:"text-left text-white"},[t._v("S/N")]),s("th",{staticClass:"text-left text-white"},[t._v("Name")]),s("th",{staticClass:"text-center text-white"},[t._v("Email")]),s("th",{staticClass:"text-left text-white"},[t._v("Level")]),s("th",{staticClass:"text-center text-white"},[t._v("First Semester")]),s("th",{staticClass:"text-center text-white"},[t._v("Second Semester")])])]),s("tbody",{staticClass:"bg-grey-3"},[t._l(t.getUsers,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"text-left"},[t._v(t._s(a+1))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.name))]),s("td",{staticClass:"text-center"},[t._v(t._s(e.email))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.level))]),s("td",{staticClass:"text-center"},[s("span",[t._v("\n                              "+t._s(e.first)+" "),e.firstAmount?s("span",[t._v("[₦"+t._s(e.firstAmount)+"]")]):t._e(),"N/A"===e.first?s("span",[s("q-btn",{attrs:{color:"secondary",icon:"edit",size:"sm",flat:""},on:{click:function(s){t.paymentDialog=!0,t.paySetup(e.id,"first"),t.userForPayment=e.name}}})],1):t._e()])]),s("td",{staticClass:"text-center"},[s("span",[t._v("\n                                  "+t._s(e.second)+" "),e.secondAmount?s("span",[t._v("[₦"+t._s(e.secondAmount)+"]")]):t._e(),"N/A"===e.second?s("span",[s("q-btn",{attrs:{color:"secondary",icon:"edit",size:"sm",flat:""},on:{click:function(s){t.paymentDialog=!0,t.paySetup(e.id,"second"),t.userForPayment=e.name}}})],1):t._e()])])])})),t.getUsers.length<=0?s("tr",[s("h6",[t._v("No user found")])]):t._e()],2)]):t._e()],1)],1),s("q-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("q-card",[s("q-card-section",[s("h6",{staticClass:"text-center"},[t._v("Departmental fee")])]),s("q-card-section",[s("q-input",{attrs:{dense:"",outlined:"",rounded:"",type:"number",autofocus:""},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.prompt=!1}},model:{value:t.amount,callback:function(e){t.amount=t._n(e)},expression:"amount"}})],1),s("q-card-section",[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"cancel"}}),s("q-btn",{attrs:{flat:"",label:"save"},on:{click:function(e){return t.edit({id:t.id,amount:t.amount})}}})],1)],1)],1),s("q-dialog",{model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[s("q-card",[s("q-card-section",[s("span",{staticClass:"text-center"},[t._v("Are you sure you want to make "+t._s(t.semesterForPayment)+" \n                  semester payment of ₦"+t._s(t.amountForPayment)+" for "+t._s(t.userForPayment))])]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"cancel",color:"red"}}),s("q-btn",{attrs:{flat:"",label:"confirm",color:"primary"},on:{click:t.pay}})],1)],1)],1)],1)},n=[],i=s("ded3"),l=s.n(i),r=s("2f62"),o={data(){return{dialog:!1,paymentDialog:!1,amount:"",id:"",userForPayment:"",amountForPayment:"",semesterForPayment:"",data:null}},computed:l()(l()(l()({},Object(r["c"])("admin",["getUsers","firstSemesterAmount","secondSemesterAmount","dues"])),Object(r["d"])("admin",["levelModels","levelOptions","paymentStatusModels","paymentStatusOptions","semesterModels","semesterOptions","search","users"])),{},{level:{get(){return this.levelModels},set(t){this.setLevelModels(t)}},paymentStatus:{get(){return this.paymentStatusModels},set(t){this.setPaymentStatusModels(t)}},semester:{get(){return this.semesterModels},set(t){this.setSemesterModels(t)}},searchUser:{get(){return this.search},set(t){this.setSearch(t)}}}),methods:l()(l()({},Object(r["b"])("admin",["setLevelModels","changePrice","setPaymentStatusModels","setSemesterModels","setSearch","makeUserPayment"])),{},{edit(t){this.changePrice(t),this.dialog=!1},paySetup(t,e){const s={};if(s.user=t,"first"===e){const t=this.dues.find((t=>t.semester===e));s.amount=t.amount,s.semester=t.semester,this.amountForPayment=s.amount,this.semesterForPayment=s.semester}if("second"===e){const t=this.dues.find((t=>t.semester===e));s.amount=t.amount,s.semester=t.semester,this.amountForPayment=s.amount,this.semesterForPayment=s.semester}this.data=s},pay(){console.log(this.data),this.makeUserPayment(this.data),this.paymentDialog=!1}})},c=o,d=(s("0b86"),s("2877")),m=s("9989"),u=s("f09f"),p=s("a370"),h=s("2bb1"),f=s("9c40"),v=s("ddd8"),y=s("27f9"),_=s("0016"),b=s("24e8"),C=s("4b7e"),x=s("7f67"),g=s("eebe"),q=s.n(g),S=Object(d["a"])(c,a,n,!1,null,null,null);e["default"]=S.exports;q()(S,"components",{QPage:m["a"],QCard:u["a"],QCardSection:p["a"],QMarkupTable:h["a"],QBtn:f["a"],QSelect:v["a"],QInput:y["a"],QIcon:_["a"],QDialog:b["a"],QCardActions:C["a"]}),q()(S,"directives",{ClosePopup:x["a"]})},cb45:function(t,e,s){}}]);